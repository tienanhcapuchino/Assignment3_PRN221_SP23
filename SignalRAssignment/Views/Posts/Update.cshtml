@using SignalRAssignment.Entity
@model Posts
<h1>Update post</h1>

<div>
    <form method="post" action="/Posts/OnUpdate">
        <input type="hidden" name="po.PostId" value="@Model.PostID" />
        <div class="form-group">
            <label class="control-label">Title</label>
            <input name="po.Title" placeholder="enter name" required value="@Model.Title" type="text" class="form-control" />
        </div>
        <div class="form-group">
            <label class="control-label">Content</label>
            <input name="po.Content" value="@Model.Content" type="text" required class="form-control" />
        </div>
        <div class="form-group">
            <label class="control-label">Category</label>
            <select name="po.PostCategoriesCategoryId" class="form-control">
                @{
                    foreach (PostCategories item in ViewBag.cate)
                    {
                        bool checkSelect1 = Model.PostCategoriesCategoryId == item.CategoryId;
                        if (checkSelect1)
                        {
                            <option selected value="@item.CategoryId">@item.CategoryName</option>
                        }
                        else
                        {
                            <option value="@item.CategoryId">@item.CategoryName</option>
                        }
                    }
                }
            </select>
        </div>
        <div class="form-group">
            <label class="control-label">Author</label>
            <select name="po.AppUsersUserId" class="form-control">
                @{
                    foreach (AppUsers item in ViewBag.author)
                    {
                        bool checkSelect2 = Model.AppUsersUserId == item.UserId;
                        if (checkSelect2)
                        {
                            <option selected value="@item.UserId">@item.FullName</option>
                        }
                        else
                        {
                            <option value="@item.UserId">@item.FullName</option>
                        }
                    }
                }
            </select>
        </div>
        <div class="form-group">
            <label class="control-label">Publish status</label>
            <select name="po.PublishStatus" class="form-control">
                @{
                    bool checkSelect = Model.PublishStatus == 1;
                }
                @{
                    if (checkSelect)
                    {
                        <option selected value="1">Published</option>
                        <option value="0">Not published</option>
                    }
                    else
                    {
                        <option value="1">Published</option>
                        <option selected value="0">Not published</option>
                    }
                }
            </select>
        </div>
        <div class="form-group">
            <label class="control-label">Created date</label>
            <input name="po.CreatedDate" value="@Model.CreatedDate.ToString("yyyy-MM-dd")" type="date" required class="form-control" />
        </div>
        <div class="form-group">
            <label class="control-label">Updated date</label>
            <input name="po.UpdatedDate" value="@Model.UpdatedDate.ToString("yyyy-MM-dd")" type="date" required class="form-control" />
        </div>
        <input class="btn btn-primary" type="submit" value="Save" />
    </form>
</div>